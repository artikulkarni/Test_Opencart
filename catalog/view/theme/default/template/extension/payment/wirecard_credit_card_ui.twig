{% if existing_cards %}
    <div>
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
            <li class="tab-existing active" role="presentation"><a href="#existing" aria-controls="existing" role="tab" data-toggle="tab">Use saved credit cards</a></li>
            <li class="tab-new" role="presentation"><a href="#new" aria-controls="new" role="tab" data-toggle="tab">Enter new credit card</a></li>
        </ul>

        <div class="tab-content">
            <div role="tabpanel" class="tab-pane active" id="existing">
                <div id="success-message" class="alert alert-success" style="display: none;">
                    <i class="fa fa-check-circle"></i>
                    Sucessfully deleted credit card <strong id="deleted-pan"></strong>.
                </div>

                <div id="failure-message" class="alert alert-danger" style="display: none;"><i class="fa fa-exclamation-circle"></i>
                    Unable to delete credit card <strong id="deleted-pan"></strong>. Please try again later.
                </div>

                <div class="list-group">
                    {% for card in existing_cards %}
                        <label data-pan="{{ card.masked_pan }}" class="list-group-item credit-card-selector">
                            <div>
                                <input type="radio" name="token" value="{{ card.token }}" onclick="setToken(this.value)" />
                                <span class="credit-card-pan">{{ card.masked_pan }}</span>
                            </div>

                            <div>
                                <a onclick="deleteCardFromVault({{ card.vault_id }}, '{{ card.masked_pan }}')" class="credit-card-delete">Delete card</a>
                            </div>
                        </label>
                    {% endfor %}
                </div>
            </div>

            <div role="tabpanel" class="tab-pane" id="new">
                {% include 'default/template/extension/payment/wirecard_credit_card_form.twig' with { 'loading_text': loading_text } %}
            </div>
        </div>
    </div>
{% else %}
    {% include 'default/template/extension/payment/wirecard_credit_card_form.twig' with { 'loading_text': loading_text } %}
{% endif %}

<link rel="stylesheet" href="catalog/view/theme/default/template/extension/payment/wirecard_pg/credit_card.css" />
<script id="credit-card-lib" src="{{ base_url }}/engine/hpp/paymentPageLoader.js" type="text/javascript"></script>
<script src="catalog/view/javascript/wirecard_pg_credit_card.js" type="text/javascript"></script>